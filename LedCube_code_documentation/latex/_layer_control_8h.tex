\hypertarget{_layer_control_8h}{}\section{source/\+Cube\+Control/\+Layer\+Control.h File Reference}
\label{_layer_control_8h}\index{source/\+Cube\+Control/\+Layer\+Control.\+h@{source/\+Cube\+Control/\+Layer\+Control.\+h}}


Controls a single layer of the 8x8x8 L\+E\+D cube.  


{\ttfamily \#include $<$xc.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include \char`\"{}System.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Debug.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Panel\+Control.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Interrupts.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Cube\+Control\+Data.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_layer_control_8h_a816c836589db27dcd3632fade8f0f6f3}{L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O}
\item 
\#define \hyperlink{_layer_control_8h_a06153a40508dfb2456f40e344e145c08}{N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S}~4       /$\ast$ Number of Panel\+Controls in the cube $\ast$/
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_layer_control_8h_a7e2027e2584c2ecb5f5f232215f88a94}{Layer\+Control\+\_\+init} (void)
\item 
void \hyperlink{_layer_control_8h_a91da6a5e378f6eb44818fd12c4ef383f}{Layer\+Control\+\_\+update} (const \hyperlink{struct_cube_control_data__t}{p\+Cube\+Control\+Data\+\_\+t} \+\_\+p\+Cube\+Control\+Data, const \hyperlink{struct_row_data__t}{p\+Cube\+Data\+\_\+t} \+\_\+p\+Cube\+Data, const uint8\+\_\+t \+\_\+layer, const uint8\+\_\+t \+\_\+bam\+Round)
\item 
void \hyperlink{_layer_control_8h_a39e071a2e648a1a3623645f5ae2d5fb7}{Layer\+Control\+\_\+all\+Off} (void)
\item 
void \hyperlink{_layer_control_8h_a9229038b5c14777110aec37681baf904}{Layer\+Control\+\_\+all\+On} (void)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Controls a single layer of the 8x8x8 L\+E\+D cube. 



\subsection{Macro Definition Documentation}
\hypertarget{_layer_control_8h_a816c836589db27dcd3632fade8f0f6f3}{}\index{Layer\+Control.\+h@{Layer\+Control.\+h}!L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O@{L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O}}
\index{L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O@{L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O}!Layer\+Control.\+h@{Layer\+Control.\+h}}
\subsubsection[{L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+S\+E\+L\+F\+\_\+\+T\+E\+S\+T\+\_\+\+N\+O}\label{_layer_control_8h_a816c836589db27dcd3632fade8f0f6f3}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000001}{Todo}]this layout looks weird in Doxygen Cube Layout\+:\end{DoxyRefDesc}
\begin{DoxyVerb}              Rear
\end{DoxyVerb}
 Panel 1 01 02 03 04 05 06 07 08 Panel 2 09 10 11 12 13 14 15 16 Panel 3 17 18 19 20 21 22 23 24 Panel 4 25 26 27 28 29 30 31 32 Panel 5 33 34 35 36 37 38 39 40 Panel 6 41 42 43 44 45 46 47 48 Panel 7 49 50 51 52 53 54 55 56 Panel 8 57 58 59 60 61 62 63 64 Front

The 8x8x8 Led\+Cube takes eight of these layers, where the bottom layer is labeled layer 1 and the top layer layer 8. 

Definition at line 50 of file Layer\+Control.\+h.

\hypertarget{_layer_control_8h_a06153a40508dfb2456f40e344e145c08}{}\index{Layer\+Control.\+h@{Layer\+Control.\+h}!N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S@{N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S}}
\index{N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S@{N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S}!Layer\+Control.\+h@{Layer\+Control.\+h}}
\subsubsection[{N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+\_\+\+P\+A\+N\+E\+L\+C\+O\+N\+T\+R\+O\+L\+S~4       /$\ast$ Number of Panel\+Controls in the cube $\ast$/}\label{_layer_control_8h_a06153a40508dfb2456f40e344e145c08}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]document defines and macros \end{DoxyRefDesc}


Definition at line 67 of file Layer\+Control.\+h.



\subsection{Function Documentation}
\hypertarget{_layer_control_8h_a7e2027e2584c2ecb5f5f232215f88a94}{}\index{Layer\+Control.\+h@{Layer\+Control.\+h}!Layer\+Control\+\_\+init@{Layer\+Control\+\_\+init}}
\index{Layer\+Control\+\_\+init@{Layer\+Control\+\_\+init}!Layer\+Control.\+h@{Layer\+Control.\+h}}
\subsubsection[{Layer\+Control\+\_\+init(void)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8h_a7e2027e2584c2ecb5f5f232215f88a94}
Initialize everything needed for controlling the layers by configuring the S\+P\+Ix peripheral.

\begin{DoxyNote}{Note}
This also initializes everything needed for a Panel\+Control P\+C\+B using the \hyperlink{_panel_control_8c_aef253c0667beeb546a7eff1cf564e3a5}{Panel\+Control\+\_\+init} function. 
\end{DoxyNote}


Definition at line 47 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8h_a91da6a5e378f6eb44818fd12c4ef383f}{}\index{Layer\+Control.\+h@{Layer\+Control.\+h}!Layer\+Control\+\_\+update@{Layer\+Control\+\_\+update}}
\index{Layer\+Control\+\_\+update@{Layer\+Control\+\_\+update}!Layer\+Control.\+h@{Layer\+Control.\+h}}
\subsubsection[{Layer\+Control\+\_\+update(const p\+Cube\+Control\+Data\+\_\+t \+\_\+p\+Cube\+Control\+Data, const p\+Cube\+Data\+\_\+t \+\_\+p\+Cube\+Data, const uint8\+\_\+t \+\_\+layer, const uint8\+\_\+t \+\_\+bam\+Round)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+update (
\begin{DoxyParamCaption}
\item[{const {\bf p\+Cube\+Control\+Data\+\_\+t}}]{\+\_\+p\+Cube\+Control\+Data, }
\item[{const {\bf p\+Cube\+Data\+\_\+t}}]{\+\_\+p\+Cube\+Data, }
\item[{const uint8\+\_\+t}]{\+\_\+layer, }
\item[{const uint8\+\_\+t}]{\+\_\+bam\+Round}
\end{DoxyParamCaption}
)}\label{_layer_control_8h_a91da6a5e378f6eb44818fd12c4ef383f}
Update the output of a single layer in the L\+E\+D cube by calling the \hyperlink{_panel_control_8c_a9cca035778989fdd5e4651c52a813c8b}{Panel\+Control\+\_\+update} function four times.


\begin{DoxyParams}{Parameters}
{\em \+\_\+p\+Cube\+Control\+Data} & Pointer to Cube\+Control\+Data structure. \\
\hline
{\em \+\_\+p\+Cube\+Data} & Pointer to the first element of a Cube\+Data structure array. \\
\hline
{\em \+\_\+layer} & The layer to update. \\
\hline
{\em \+\_\+bam\+Round} & The B\+A\+M-\/round to update. \\
\hline
\end{DoxyParams}


Definition at line 175 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8h_a39e071a2e648a1a3623645f5ae2d5fb7}{}\index{Layer\+Control.\+h@{Layer\+Control.\+h}!Layer\+Control\+\_\+all\+Off@{Layer\+Control\+\_\+all\+Off}}
\index{Layer\+Control\+\_\+all\+Off@{Layer\+Control\+\_\+all\+Off}!Layer\+Control.\+h@{Layer\+Control.\+h}}
\subsubsection[{Layer\+Control\+\_\+all\+Off(void)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+all\+Off (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8h_a39e071a2e648a1a3623645f5ae2d5fb7}
Turn all the L\+E\+Ds of a layer off using \hyperlink{_panel_control_8c_a7b7be44baa16fe021aa42b1eba9406aa}{Panel\+Control\+\_\+all\+Off}. 

Definition at line 199 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8h_a9229038b5c14777110aec37681baf904}{}\index{Layer\+Control.\+h@{Layer\+Control.\+h}!Layer\+Control\+\_\+all\+On@{Layer\+Control\+\_\+all\+On}}
\index{Layer\+Control\+\_\+all\+On@{Layer\+Control\+\_\+all\+On}!Layer\+Control.\+h@{Layer\+Control.\+h}}
\subsubsection[{Layer\+Control\+\_\+all\+On(void)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+all\+On (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8h_a9229038b5c14777110aec37681baf904}
Turn all the L\+E\+Ds of a layer on using \hyperlink{_panel_control_8c_a2a56611f2abac08f8558ddeb1b19cad8}{Panel\+Control\+\_\+all\+On}. 

Definition at line 211 of file Layer\+Control.\+c.

