\hypertarget{_layer_control_8c}{}\section{source/\+Cube\+Control/src/\+Layer\+Control.c File Reference}
\label{_layer_control_8c}\index{source/\+Cube\+Control/src/\+Layer\+Control.\+c@{source/\+Cube\+Control/src/\+Layer\+Control.\+c}}


Controls a single layer of the 8x8x8 L\+E\+D cube.  


{\ttfamily \#include \char`\"{}Layer\+Control.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Buzzer.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_layer_control_8c_a7e2027e2584c2ecb5f5f232215f88a94}{Layer\+Control\+\_\+init} (void)
\item 
void \hyperlink{_layer_control_8c_a9502708917d487eb54c9fdecbf3b6111}{Layer\+Control\+\_\+set\+Layer} (const uint8\+\_\+t \+\_\+layer)
\item 
void \hyperlink{_layer_control_8c_a91da6a5e378f6eb44818fd12c4ef383f}{Layer\+Control\+\_\+update} (const \hyperlink{struct_cube_control_data__t}{p\+Cube\+Control\+Data\+\_\+t} \+\_\+p\+Cube\+Control\+Data, const \hyperlink{struct_row_data__t}{p\+Cube\+Data\+\_\+t} \+\_\+p\+Cube\+Data, const uint8\+\_\+t \+\_\+layer, const uint8\+\_\+t \+\_\+bam\+Round)
\item 
void \hyperlink{_layer_control_8c_a39e071a2e648a1a3623645f5ae2d5fb7}{Layer\+Control\+\_\+all\+Off} (void)
\item 
void \hyperlink{_layer_control_8c_a9229038b5c14777110aec37681baf904}{Layer\+Control\+\_\+all\+On} (void)
\item 
void \hyperlink{_layer_control_8c_a348b663f86a656f5ea991d496ff9b896}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((interrupt, auto\+\_\+psv))
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile uint8\+\_\+t \hyperlink{_layer_control_8c_a0210645c118b58a2f45feea0c8976a6e}{layer} = 0
\item 
volatile uint8\+\_\+t \hyperlink{_layer_control_8c_a8e27186c6936262018768a367a9ccfba}{bam\+Round} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Controls a single layer of the 8x8x8 L\+E\+D cube. 



\subsection{Function Documentation}
\hypertarget{_layer_control_8c_a7e2027e2584c2ecb5f5f232215f88a94}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!Layer\+Control\+\_\+init@{Layer\+Control\+\_\+init}}
\index{Layer\+Control\+\_\+init@{Layer\+Control\+\_\+init}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{Layer\+Control\+\_\+init(void)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8c_a7e2027e2584c2ecb5f5f232215f88a94}
Initialize everything needed for controlling the layers by configuring the S\+P\+Ix peripheral.

\begin{DoxyNote}{Note}
This also initializes everything needed for a Panel\+Control P\+C\+B using the \hyperlink{_panel_control_8c_aef253c0667beeb546a7eff1cf564e3a5}{Panel\+Control\+\_\+init} function. 
\end{DoxyNote}


Definition at line 47 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8c_a9502708917d487eb54c9fdecbf3b6111}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!Layer\+Control\+\_\+set\+Layer@{Layer\+Control\+\_\+set\+Layer}}
\index{Layer\+Control\+\_\+set\+Layer@{Layer\+Control\+\_\+set\+Layer}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{Layer\+Control\+\_\+set\+Layer(const uint8\+\_\+t \+\_\+layer)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+set\+Layer (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t}]{\+\_\+layer}
\end{DoxyParamCaption}
)}\label{_layer_control_8c_a9502708917d487eb54c9fdecbf3b6111}
Set a single layer active using the S\+P\+Ix peripheral.

\begin{DoxyNote}{Note}
This function is used by the \+\_\+\+T3\+Interrupt I\+S\+R. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em \+\_\+layer} & The layer to set active ranging from 0 to L\+C\+\_\+\+M\+A\+X\+\_\+\+Z\+\_\+\+C. \\
\hline
\end{DoxyParams}


Definition at line 153 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8c_a91da6a5e378f6eb44818fd12c4ef383f}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!Layer\+Control\+\_\+update@{Layer\+Control\+\_\+update}}
\index{Layer\+Control\+\_\+update@{Layer\+Control\+\_\+update}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{Layer\+Control\+\_\+update(const p\+Cube\+Control\+Data\+\_\+t \+\_\+p\+Cube\+Control\+Data, const p\+Cube\+Data\+\_\+t \+\_\+p\+Cube\+Data, const uint8\+\_\+t \+\_\+layer, const uint8\+\_\+t \+\_\+bam\+Round)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+update (
\begin{DoxyParamCaption}
\item[{const {\bf p\+Cube\+Control\+Data\+\_\+t}}]{\+\_\+p\+Cube\+Control\+Data, }
\item[{const {\bf p\+Cube\+Data\+\_\+t}}]{\+\_\+p\+Cube\+Data, }
\item[{const uint8\+\_\+t}]{\+\_\+layer, }
\item[{const uint8\+\_\+t}]{\+\_\+bam\+Round}
\end{DoxyParamCaption}
)}\label{_layer_control_8c_a91da6a5e378f6eb44818fd12c4ef383f}
Update the output of a single layer in the L\+E\+D cube by calling the \hyperlink{_panel_control_8c_a9cca035778989fdd5e4651c52a813c8b}{Panel\+Control\+\_\+update} function four times.


\begin{DoxyParams}{Parameters}
{\em \+\_\+p\+Cube\+Control\+Data} & Pointer to Cube\+Control\+Data structure. \\
\hline
{\em \+\_\+p\+Cube\+Data} & Pointer to the first element of a Cube\+Data structure array. \\
\hline
{\em \+\_\+layer} & The layer to update. \\
\hline
{\em \+\_\+bam\+Round} & The B\+A\+M-\/round to update. \\
\hline
\end{DoxyParams}


Definition at line 175 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8c_a39e071a2e648a1a3623645f5ae2d5fb7}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!Layer\+Control\+\_\+all\+Off@{Layer\+Control\+\_\+all\+Off}}
\index{Layer\+Control\+\_\+all\+Off@{Layer\+Control\+\_\+all\+Off}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{Layer\+Control\+\_\+all\+Off(void)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+all\+Off (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8c_a39e071a2e648a1a3623645f5ae2d5fb7}
Turn all the L\+E\+Ds of a layer off using \hyperlink{_panel_control_8c_a7b7be44baa16fe021aa42b1eba9406aa}{Panel\+Control\+\_\+all\+Off}. 

Definition at line 199 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8c_a9229038b5c14777110aec37681baf904}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!Layer\+Control\+\_\+all\+On@{Layer\+Control\+\_\+all\+On}}
\index{Layer\+Control\+\_\+all\+On@{Layer\+Control\+\_\+all\+On}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{Layer\+Control\+\_\+all\+On(void)}]{\setlength{\rightskip}{0pt plus 5cm}void Layer\+Control\+\_\+all\+On (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8c_a9229038b5c14777110aec37681baf904}
Turn all the L\+E\+Ds of a layer on using \hyperlink{_panel_control_8c_a2a56611f2abac08f8558ddeb1b19cad8}{Panel\+Control\+\_\+all\+On}. 

Definition at line 211 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8c_a348b663f86a656f5ea991d496ff9b896}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{\+\_\+\+\_\+attribute\+\_\+\+\_\+((interrupt, auto\+\_\+psv))}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(interrupt, auto\+\_\+psv)}]{}
\end{DoxyParamCaption}
)}\label{_layer_control_8c_a348b663f86a656f5ea991d496ff9b896}
Interrupt for timer 3. This interrupt multiplexes the eight layers and puts the correct L\+E\+D data in the current layer. 

Definition at line 228 of file Layer\+Control.\+c.



\subsection{Variable Documentation}
\hypertarget{_layer_control_8c_a0210645c118b58a2f45feea0c8976a6e}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!layer@{layer}}
\index{layer@{layer}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{layer}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint8\+\_\+t layer = 0}\label{_layer_control_8c_a0210645c118b58a2f45feea0c8976a6e}
Global variable for keeping track of the current active layer in the I\+S\+R. 

Definition at line 29 of file Layer\+Control.\+c.

\hypertarget{_layer_control_8c_a8e27186c6936262018768a367a9ccfba}{}\index{Layer\+Control.\+c@{Layer\+Control.\+c}!bam\+Round@{bam\+Round}}
\index{bam\+Round@{bam\+Round}!Layer\+Control.\+c@{Layer\+Control.\+c}}
\subsubsection[{bam\+Round}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint8\+\_\+t bam\+Round = 0}\label{_layer_control_8c_a8e27186c6936262018768a367a9ccfba}
Global variable for keeping track of the current B\+A\+M round in the I\+S\+R. 

Definition at line 31 of file Layer\+Control.\+c.

